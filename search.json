[{"title":"开发人员 在linux服务器上查看日记常用命令","url":"/2018/06/25/ga/","content":"程序不可能没有bug。即使通过测试的程序在上线后也可能出现报错问题。所以一般在职程序员经常要做一件事情：就是从某应用程序的日记其中找出自己想要的信息（程序报错的信息，从而定位到程序出错在哪个类，哪行）。\n<!-- more -->\n![](http://payu91z1p.bkt.clouddn.com/a384dee055fa97e980af2ecd20519316.jpg)\n> 本文总结了我在工作中使用了哪些命令来分析Log文件获取我想要的信息。\n下面介绍我自己常用的一些linux命令（如果有什么错误或者不对的地方欢迎指出，也请大家多多指教）：\n\n## 1、tail 命令\n**1.1 tail命令默认在屏幕上显示指定文件的末尾10行**\n\n````\n tail localhost.2018-01-23.log\n````\n![默认显示最新10行](http://payu91z1p.bkt.clouddn.com/clipboard1.png)\n\n**1.2 tail -f 当文件增长时,输出后续添加的数据**\n````\n tail -f localhost.2018-01-23.log\n````\n![自动显示新增的文件内容](http://payu91z1p.bkt.clouddn.com/clipboard2.png)\n\n**1.3 查看底部即最新200条日记记录，自动显示新增的文件内容**\n````\n tail -f catalina.out -n 200\n````\n![查看最后200条日记记录](http://payu91z1p.bkt.clouddn.com/clipboard3.png)\n\n**1.4  查看字符\"HeartbeatHandler\" 前后2条记录，自动显示新增的文件内容**\n\n````\n tail -f catalina.out |grep \"HeartbeatHandler\" -C 2\n````\n![查看指定的字符串前后几行的最新记录](http://payu91z1p.bkt.clouddn.com/clipboard4.png)\n\n\n**1.5 tail -f *.log 同时监视多个文件的变化 自动显示新增的文件内容 文件排列显示**\n````\n tail -f *.log\n````\n![同时查看多个文件](http://payu91z1p.bkt.clouddn.com/clipboard5.png)\n\n**1.6 退出，按下CTRL+C。**\n\n## 2 vi命令\n> ps:这个命令我用的少，不过我老大一直在用\n\n> vi命令是linux操作系统中最通用的全屏幕纯文本编辑器\n\n> 其中参数 -R：表示以只读方式打开文件；\n\n**2.1 vi只读模式打开文件**\n````\n vi -R catalina.out\n````\n![vi只读模式打开文件](http://payu91z1p.bkt.clouddn.com/clipboard6.png)\n\n\n**2.2 进去后光标定位在首行 要让它显示行号话：输入:`set nu`**\n\n![显示行号](http://payu91z1p.bkt.clouddn.com/clipboard7.png)\n\n\n**2.3 要跳到文件的开始的位置即第一行：输入`gg`**\n\n**2.4 要跳到文件的结束的位置即最后一行:输入`G`**\n\n**2.5 要跳到文件的指定的位置 如到定位到第100行：输入`100G`**\n\n> 在vi里面用Go的缩写字母g表示光标跳动\n\n\n![定位到第100行的位置](http://payu91z1p.bkt.clouddn.com/clipboard8.png)\n\n\n**2.6 从文件头往后面搜索字符串“==”：输入 :`/==`**\n\n![向后搜索指定字符](http://payu91z1p.bkt.clouddn.com/clipboard9.png)\n\n**2.7 从文件尾往前搜索字符串“==”:输入 :`?==`**\n\n**2.8 在搜索字符串的过程中要找到下一个符合搜索条件的地方:按`n`**\n\n**2.9 在搜索字符串的过程中要找到上一个符合搜索条件的地方：按`N`\n在vi里面字母n是Next的缩写 表示下一个**\n\n**2.10 退出vi的命令是：`:q!`**\n\n## 3 less命令\n> 这个命令是我常用的命令，不过时间一久就会忘记一些常用的操作\n\n> less命令可以用来浏览文字文件的内容，用less命令显示文件时，允许用户向前或向后浏览文件。\n\n**3.1 less catalina.out 进入后显示的是文件的首页**\n````\nless catalina.out\n````\n![less命令](http://payu91z1p.bkt.clouddn.com/clipboard10.png)\n\n\n**3.2 从文件头往后面搜索字符串“==”：输入 `/==`**\n![向下搜索](http://payu91z1p.bkt.clouddn.com/clipboard11.png)\n\n\n**3.3 从文件尾往前搜索字符串\"==“:输入 `?==`**\n\n**3.4 在搜索字符串的过程中要找到下一个符合搜索条件的地方:按`n` （与 / 或 ? 有关）**\n\n**3.5 在搜索字符串的过程中要找到上一个符合搜索条件的地方：按`N` （与 / 或 ? 有关）**\n\n**3.6 按` b `向后翻一页 ，按 `d `向后翻半页**\n\n**3.7按`u `向前滚动半页 ，按`y `向前滚动一行 `按空格键` 滚动一行 ，按`回车键` 滚动一页**\n\n**3.8 显示 字符串中文件中出现的次数**\n````\nless catalina.out | grep \"==\" | wc -l \n````\n![统计错误出现的次数](http://payu91z1p.bkt.clouddn.com/clipboard12.png)\n\n**3.9 要退出less程序，应按`Q`键。**\n\n> 以上记录的常用命令 只有本人自己常用 ，整理出来跟大家一起交流。不喜勿喷，我的内心很脆弱。谢谢！","tags":["linux"],"categories":["linux"]}]